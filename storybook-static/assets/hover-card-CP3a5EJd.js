import{j as a}from"./jsx-runtime-Cf8x2fCZ.js";import{r as n}from"./index-BlmOqGMO.js";import{c as l}from"./index-DW48STyt.js";import{c as I}from"./index-Dkb_ZYRU.js";import{u as M}from"./index-Dz6nX4BC.js";import{u as k}from"./index-CtJ-PWby.js";import{c as T,R as F,A as U,C as $,a as W}from"./index-DBBP8lBG.js";import{P as z}from"./index-DT4_-hZ-.js";import{P as _}from"./index-CGaZw3rm.js";import{P as B}from"./index-BFNyJKjA.js";import{D as V}from"./index-DCFLnjvQ.js";import{c as q}from"./utils-C3T1saKV.js";var H,S="HoverCard",[O,ge]=I(S,[T]),b=T(),[G,w]=O(S),y=e=>{const{__scopeHoverCard:o,children:t,open:s,defaultOpen:i,onOpenChange:c,openDelay:f=700,closeDelay:v=300}=e,d=b(o),m=n.useRef(0),u=n.useRef(0),C=n.useRef(!1),p=n.useRef(!1),[h,r]=M({prop:s,defaultProp:i??!1,onChange:c,caller:S}),x=n.useCallback(()=>{clearTimeout(u.current),m.current=window.setTimeout(()=>r(!0),f)},[f,r]),g=n.useCallback(()=>{clearTimeout(m.current),!C.current&&!p.current&&(u.current=window.setTimeout(()=>r(!1),v))},[v,r]),L=n.useCallback(()=>r(!1),[r]);return n.useEffect(()=>()=>{clearTimeout(m.current),clearTimeout(u.current)},[]),a.jsx(G,{scope:o,open:h,onOpenChange:r,onOpen:x,onClose:g,onDismiss:L,hasSelectionRef:C,isPointerDownOnContentRef:p,children:a.jsx(F,{...d,children:t})})};y.displayName=S;var N="HoverCardTrigger",D=n.forwardRef((e,o)=>{const{__scopeHoverCard:t,...s}=e,i=w(N,t),c=b(t);return a.jsx(U,{asChild:!0,...c,children:a.jsx(B.a,{"data-state":i.open?"open":"closed",...s,ref:o,onPointerEnter:l(e.onPointerEnter,R(i.onOpen)),onPointerLeave:l(e.onPointerLeave,R(i.onClose)),onFocus:l(e.onFocus,i.onOpen),onBlur:l(e.onBlur,i.onClose),onTouchStart:l(e.onTouchStart,f=>f.preventDefault())})})});D.displayName=N;var E="HoverCardPortal",[K,J]=O(E,{forceMount:void 0}),j=e=>{const{__scopeHoverCard:o,forceMount:t,children:s,container:i}=e,c=w(E,o);return a.jsx(K,{scope:o,forceMount:t,children:a.jsx(_,{present:t||c.open,children:a.jsx(z,{asChild:!0,container:i,children:s})})})};j.displayName=E;var P="HoverCardContent",A=n.forwardRef((e,o)=>{const t=J(P,e.__scopeHoverCard),{forceMount:s=t.forceMount,...i}=e,c=w(P,e.__scopeHoverCard);return a.jsx(_,{present:s||c.open,children:a.jsx(Q,{"data-state":c.open?"open":"closed",...i,onPointerEnter:l(e.onPointerEnter,R(c.onOpen)),onPointerLeave:l(e.onPointerLeave,R(c.onClose)),ref:o})})});A.displayName=P;var Q=n.forwardRef((e,o)=>{const{__scopeHoverCard:t,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:c,onInteractOutside:f,...v}=e,d=w(P,t),m=b(t),u=n.useRef(null),C=k(o,u),[p,h]=n.useState(!1);return n.useEffect(()=>{if(p){const r=document.body;return H=r.style.userSelect||r.style.webkitUserSelect,r.style.userSelect="none",r.style.webkitUserSelect="none",()=>{r.style.userSelect=H,r.style.webkitUserSelect=H}}},[p]),n.useEffect(()=>{if(u.current){const r=()=>{h(!1),d.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var g;((g=document.getSelection())==null?void 0:g.toString())!==""&&(d.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",r),()=>{document.removeEventListener("pointerup",r),d.hasSelectionRef.current=!1,d.isPointerDownOnContentRef.current=!1}}},[d.isPointerDownOnContentRef,d.hasSelectionRef]),n.useEffect(()=>{u.current&&Z(u.current).forEach(x=>x.setAttribute("tabindex","-1"))}),a.jsx(V,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:f,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:l(c,r=>{r.preventDefault()}),onDismiss:d.onDismiss,children:a.jsx($,{...m,...v,onPointerDown:l(v.onPointerDown,r=>{r.currentTarget.contains(r.target)&&h(!0),d.hasSelectionRef.current=!1,d.isPointerDownOnContentRef.current=!0}),ref:C,style:{...v.style,userSelect:p?"text":void 0,WebkitUserSelect:p?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),X="HoverCardArrow",Y=n.forwardRef((e,o)=>{const{__scopeHoverCard:t,...s}=e,i=b(t);return a.jsx(W,{...i,...s,ref:o})});Y.displayName=X;function R(e){return o=>o.pointerType==="touch"?void 0:e()}function Z(e){const o=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;t.nextNode();)o.push(t.currentNode);return o}var ee=y,re=D,oe=j,te=A;function ne({...e}){return a.jsx(ee,{"data-slot":"hover-card",...e})}function ae({...e}){return a.jsx(re,{"data-slot":"hover-card-trigger",...e})}function se({className:e,align:o="center",sideOffset:t=4,...s}){return a.jsx(oe,{"data-slot":"hover-card-portal",children:a.jsx(te,{"data-slot":"hover-card-content",align:o,sideOffset:t,className:q("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-64 origin-(--radix-hover-card-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...s})})}ne.__docgenInfo={description:"",methods:[],displayName:"HoverCard"};ae.__docgenInfo={description:"",methods:[],displayName:"HoverCardTrigger"};se.__docgenInfo={description:"",methods:[],displayName:"HoverCardContent",props:{align:{defaultValue:{value:'"center"',computed:!1},required:!1},sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}}};export{ne as H,ae as a,se as b};
