<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Select Component Verification</title>
    <script type="module" crossorigin src="./dist/index.js"></script>
    <link rel="stylesheet" href="./dist/styles.css">
    <style>
        body {
            font-family: system-ui, -apple-system, sans-serif;
            background: hsl(var(--background));
            color: hsl(var(--foreground));
            padding: 2rem;
            margin: 0;
        }
        .test-section {
            margin-bottom: 3rem;
            padding: 2rem;
            border: 1px solid hsl(var(--border));
            border-radius: 0.5rem;
            background: hsl(var(--card));
        }
        .test-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: hsl(var(--primary));
        }
        .test-description {
            margin-bottom: 1.5rem;
            color: hsl(var(--muted-foreground));
        }
        .test-items {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .expected {
            color: hsl(var(--success-text, --primary));
            font-weight: 500;
        }
    </style>
</head>
<body>
    <h1>Select Component Issue Verification</h1>
    
    <!-- Test 1: Default Value -->
    <div class="test-section">
        <div class="test-title">✅ Fix 1: Default Value in SDUI Mode</div>
        <div class="test-description">
            This test verifies that defaultValue works correctly in SDUI mode.
            <br><span class="expected">Expected: "Banana" should be selected and displayed in the trigger.</span>
        </div>
        <div class="test-items">
            <div id="test-default-value"></div>
        </div>
    </div>

    <!-- Test 2: Hover Styling -->
    <div class="test-section">
        <div class="test-title">✅ Fix 2: Hover Styling (Subtle Gray Background)</div>
        <div class="test-description">
            This test verifies that dropdown items have subtle gray background on hover, not harsh black.
            <br><span class="expected">Expected: Hover over dropdown items should show subtle gray background with smooth padding animation.</span>
        </div>
        <div class="test-items">
            <div id="test-hover-styling"></div>
        </div>
    </div>

    <!-- Test 3: No Flash on Render -->
    <div class="test-section">
        <div class="test-title">✅ Fix 3: No Flash on Initial Render</div>
        <div class="test-description">
            This test verifies that Select components render smoothly without flashing.
            <br><span class="expected">Expected: No visible flash or opacity changes during initial render.</span>
        </div>
        <div class="test-items">
            <div id="test-no-flash"></div>
        </div>
    </div>

    <script type="module">
        import { render } from './dist/index.js';

        // Test 1: Default Value
        render({
            type: "Select",
            defaultValue: "banana",
            children: [
                {
                    type: "SelectTrigger",
                    className: "w-[200px]",
                    children: {
                        type: "SelectValue",
                        placeholder: "Select a fruit"
                    }
                },
                {
                    type: "SelectContent",
                    children: [
                        { type: "SelectItem", value: "apple", children: "Apple" },
                        { type: "SelectItem", value: "banana", children: "Banana" },
                        { type: "SelectItem", value: "cherry", children: "Cherry" }
                    ]
                }
            ]
        }, document.getElementById('test-default-value'));

        // Test 2: Hover Styling
        render({
            type: "Select",
            children: [
                {
                    type: "SelectTrigger",
                    className: "w-[200px]",
                    children: {
                        type: "SelectValue",
                        placeholder: "Test hover styles"
                    }
                },
                {
                    type: "SelectContent",
                    children: [
                        { type: "SelectItem", value: "option1", children: "Hover me for subtle gray" },
                        { type: "SelectItem", value: "option2", children: "I should also have subtle gray hover" },
                        { type: "SelectItem", value: "option3", children: "No harsh black background!" }
                    ]
                }
            ]
        }, document.getElementById('test-hover-styling'));

        // Test 3: No Flash
        render({
            type: "Select",
            children: [
                {
                    type: "SelectTrigger",
                    className: "w-[200px]",
                    children: {
                        type: "SelectValue",
                        placeholder: "Should render smoothly"
                    }
                },
                {
                    type: "SelectContent",
                    children: [
                        { type: "SelectItem", value: "smooth1", children: "Smooth render" },
                        { type: "SelectItem", value: "smooth2", children: "No flash" },
                        { type: "SelectItem", value: "smooth3", children: "Perfect rendering" }
                    ]
                }
            ]
        }, document.getElementById('test-no-flash'));

        console.log('✅ All Select component tests rendered successfully!');
    </script>
</body>
</html>