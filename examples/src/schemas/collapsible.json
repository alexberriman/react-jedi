{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://example.com/collapsible-component.schema.json",
  "title": "Collapsible Component Schema",
  "description": "Schema for React Collapsible component specification",
  
  "definitions": {
    "CollapsibleSpec": {
      "type": "object",
      "required": ["type"],
      "properties": {
        "type": { "const": "Collapsible" },
        "id": { "type": "string" },
        "props": {
          "type": "object",
          "properties": {
            "open": {
              "type": "boolean",
              "description": "The controlled open state of the collapsible"
            },
            "defaultOpen": {
              "type": "boolean",
              "description": "Default open state for uncontrolled mode",
              "default": false
            },
            "disabled": {
              "type": "boolean",
              "description": "Whether the collapsible is disabled",
              "default": false
            },
            "onOpenChange": {
              "type": "string",
              "description": "Event handler name for when the open state changes"
            },
            "className": {
              "type": "string",
              "description": "Additional CSS classes"
            }
          },
          "additionalProperties": false
        },
        "children": {
          "type": "array",
          "description": "Child components (CollapsibleTrigger, CollapsibleContent)",
          "items": {
            "oneOf": [
              { "$ref": "#/definitions/CollapsibleTriggerSpec" },
              { "$ref": "#/definitions/CollapsibleContentSpec" }
            ]
          }
        }
      }
    },
    
    "CollapsibleTriggerSpec": {
      "type": "object",
      "required": ["type"],
      "properties": {
        "type": { "const": "CollapsibleTrigger" },
        "id": { "type": "string" },
        "props": {
          "type": "object",
          "properties": {
            "asChild": {
              "type": "boolean", 
              "description": "Whether to render as a child of the trigger element",
              "default": false
            },
            "className": {
              "type": "string",
              "description": "Additional CSS classes"
            }
          },
          "additionalProperties": false
        },
        "children": {
          "oneOf": [
            { "type": "string" },
            { "type": "array", "items": { "type": "object" } },
            { "type": "object" }
          ]
        }
      }
    },
    
    "CollapsibleContentSpec": {
      "type": "object",
      "required": ["type"],
      "properties": {
        "type": { "const": "CollapsibleContent" },
        "id": { "type": "string" },
        "props": {
          "type": "object",
          "properties": {
            "className": {
              "type": "string",
              "description": "Additional CSS classes"
            }
          },
          "additionalProperties": false
        },
        "children": {
          "oneOf": [
            { "type": "string" },
            { "type": "array", "items": { "type": "object" } },
            { "type": "object" }
          ]
        }
      }
    }
  },
  
  "oneOf": [
    { "$ref": "#/definitions/CollapsibleSpec" },
    { "$ref": "#/definitions/CollapsibleTriggerSpec" },
    { "$ref": "#/definitions/CollapsibleContentSpec" }
  ],
  
  "example": {
    "type": "Collapsible",
    "id": "settings-collapsible",
    "props": {
      "defaultOpen": false,
      "onOpenChange": "handleSettingsToggle"
    },
    "children": [
      {
        "type": "CollapsibleTrigger",
        "props": {
          "asChild": true
        },
        "children": {
          "type": "Button",
          "props": {
            "variant": "outline"
          },
          "children": "Advanced Settings"
        }
      },
      {
        "type": "CollapsibleContent",
        "props": {
          "className": "mt-2"
        },
        "children": {
          "type": "Box",
          "props": {
            "className": "p-4 border rounded"
          },
          "children": "Settings content here"
        }
      }
    ]
  }
}