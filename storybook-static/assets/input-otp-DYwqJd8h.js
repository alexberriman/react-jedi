import{j as _}from"./jsx-runtime-Cf8x2fCZ.js";import{r as t}from"./index-tvICUrOf.js";import{c as K}from"./utils-C3T1saKV.js";import{c as je}from"./createLucideIcon-CO2y_x_O.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=[["path",{d:"M5 12h14",key:"1ays0h"}]],Oe=je("minus",Ie);var Re=Object.defineProperty,_e=Object.defineProperties,De=Object.getOwnPropertyDescriptors,Q=Object.getOwnPropertySymbols,ve=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable,fe=(n,a,o)=>a in n?Re(n,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[a]=o,Ae=(n,a)=>{for(var o in a||(a={}))ve.call(a,o)&&fe(n,o,a[o]);if(Q)for(var o of Q(a))he.call(a,o)&&fe(n,o,a[o]);return n},Ne=(n,a)=>_e(n,De(a)),We=(n,a)=>{var o={};for(var i in n)ve.call(n,i)&&a.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&Q)for(var i of Q(n))a.indexOf(i)<0&&he.call(n,i)&&(o[i]=n[i]);return o};function Be(n){let a=setTimeout(n,0),o=setTimeout(n,10),i=setTimeout(n,50);return[a,o,i]}function Fe(n){let a=t.useRef();return t.useEffect(()=>{a.current=n}),a.current}var He=18,ge=40,Le=`${ge}px`,Ge=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function $e({containerRef:n,inputRef:a,pushPasswordManagerStrategy:o,isFocused:i}){let[y,d]=t.useState(!1),[M,k]=t.useState(!1),[D,F]=t.useState(!1),H=t.useMemo(()=>o==="none"?!1:(o==="increase-width"||o==="experimental-no-flickering")&&y&&M,[y,M,o]),A=t.useCallback(()=>{let f=n.current,E=a.current;if(!f||!E||D||o==="none")return;let g=f,x=g.getBoundingClientRect().left+g.offsetWidth,N=g.getBoundingClientRect().top+g.offsetHeight/2,u=x-He,L=N;document.querySelectorAll(Ge).length===0&&document.elementFromPoint(u,L)===f||(d(!0),F(!0))},[n,a,D,o]);return t.useEffect(()=>{let f=n.current;if(!f||o==="none")return;function E(){let x=window.innerWidth-f.getBoundingClientRect().right;k(x>=ge)}E();let g=setInterval(E,1e3);return()=>{clearInterval(g)}},[n,o]),t.useEffect(()=>{let f=i||document.activeElement===a.current;if(o==="none"||!f)return;let E=setTimeout(A,0),g=setTimeout(A,2e3),x=setTimeout(A,5e3),N=setTimeout(()=>{F(!0)},6e3);return()=>{clearTimeout(E),clearTimeout(g),clearTimeout(x),clearTimeout(N)}},[a,i,o,A]),{hasPWMBadge:y,willPushPWMBadge:H,PWM_BADGE_SPACE_WIDTH:Le}}var be=t.createContext({}),we=t.forwardRef((n,a)=>{var o=n,{value:i,onChange:y,maxLength:d,textAlign:M="left",pattern:k,placeholder:D,inputMode:F="numeric",onComplete:H,pushPasswordManagerStrategy:A="increase-width",pasteTransformer:f,containerClassName:E,noScriptCSSFallback:g=ze,render:x,children:N}=o,u=We(o,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),L,ne,re,ae,oe;let[ye,xe]=t.useState(typeof u.defaultValue=="string"?u.defaultValue:""),s=i??ye,T=Fe(s),G=t.useCallback(e=>{y==null||y(e),xe(e)},[y]),w=t.useMemo(()=>k?typeof k=="string"?new RegExp(k):k:null,[k]),c=t.useRef(null),U=t.useRef(null),X=t.useRef({value:s,onChange:G,isIOS:typeof window<"u"&&((ne=(L=window==null?void 0:window.CSS)==null?void 0:L.supports)==null?void 0:ne.call(L,"-webkit-touch-callout","none"))}),Z=t.useRef({prev:[(re=c.current)==null?void 0:re.selectionStart,(ae=c.current)==null?void 0:ae.selectionEnd,(oe=c.current)==null?void 0:oe.selectionDirection]});t.useImperativeHandle(a,()=>c.current,[]),t.useEffect(()=>{let e=c.current,r=U.current;if(!e||!r)return;X.current.value!==e.value&&X.current.onChange(e.value),Z.current.prev=[e.selectionStart,e.selectionEnd,e.selectionDirection];function p(){if(document.activeElement!==e){z(null),q(null);return}let l=e.selectionStart,m=e.selectionEnd,J=e.selectionDirection,b=e.maxLength,I=e.value,S=Z.current.prev,P=-1,C=-1,O;if(I.length!==0&&l!==null&&m!==null){let Me=l===m,ke=l===I.length&&I.length<b;if(Me&&!ke){let R=l;if(R===0)P=0,C=1,O="forward";else if(R===b)P=R-1,C=R,O="backward";else if(b>1&&I.length>1){let te=0;if(S[0]!==null&&S[1]!==null){O=R<S[1]?"backward":"forward";let Te=S[0]===S[1]&&S[0]<b;O==="backward"&&!Te&&(te=-1)}P=te+R,C=te+R+1}}P!==-1&&C!==-1&&P!==C&&c.current.setSelectionRange(P,C,O)}let pe=P!==-1?P:l,me=C!==-1?C:m,Ce=O??J;z(pe),q(me),Z.current.prev=[pe,me,Ce]}if(document.addEventListener("selectionchange",p,{capture:!0}),p(),document.activeElement===e&&Y(!0),!document.getElementById("input-otp-style")){let l=document.createElement("style");if(l.id="input-otp-style",document.head.appendChild(l),l.sheet){let m="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";V(l.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),V(l.sheet,`[data-input-otp]:autofill { ${m} }`),V(l.sheet,`[data-input-otp]:-webkit-autofill { ${m} }`),V(l.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),V(l.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let v=()=>{r&&r.style.setProperty("--root-height",`${e.clientHeight}px`)};v();let h=new ResizeObserver(v);return h.observe(e),()=>{document.removeEventListener("selectionchange",p,{capture:!0}),h.disconnect()}},[]);let[le,ie]=t.useState(!1),[$,Y]=t.useState(!1),[j,z]=t.useState(null),[W,q]=t.useState(null);t.useEffect(()=>{Be(()=>{var e,r,p,v;(e=c.current)==null||e.dispatchEvent(new Event("input"));let h=(r=c.current)==null?void 0:r.selectionStart,l=(p=c.current)==null?void 0:p.selectionEnd,m=(v=c.current)==null?void 0:v.selectionDirection;h!==null&&l!==null&&(z(h),q(l),Z.current.prev=[h,l,m])})},[s,$]),t.useEffect(()=>{T!==void 0&&s!==T&&T.length<d&&s.length===d&&(H==null||H(s))},[d,H,T,s]);let B=$e({containerRef:U,inputRef:c,pushPasswordManagerStrategy:A,isFocused:$}),ue=t.useCallback(e=>{let r=e.currentTarget.value.slice(0,d);if(r.length>0&&w&&!w.test(r)){e.preventDefault();return}typeof T=="string"&&r.length<T.length&&document.dispatchEvent(new Event("selectionchange")),G(r)},[d,G,T,w]),se=t.useCallback(()=>{var e;if(c.current){let r=Math.min(c.current.value.length,d-1),p=c.current.value.length;(e=c.current)==null||e.setSelectionRange(r,p),z(r),q(p)}Y(!0)},[d]),ce=t.useCallback(e=>{var r,p;let v=c.current;if(!f&&(!X.current.isIOS||!e.clipboardData||!v))return;let h=e.clipboardData.getData("text/plain"),l=f?f(h):h;e.preventDefault();let m=(r=c.current)==null?void 0:r.selectionStart,J=(p=c.current)==null?void 0:p.selectionEnd,b=(m!==J?s.slice(0,m)+l+s.slice(J):s.slice(0,m)+l+s.slice(m)).slice(0,d);if(b.length>0&&w&&!w.test(b))return;v.value=b,G(b);let I=Math.min(b.length,d-1),S=b.length;v.setSelectionRange(I,S),z(I),q(S)},[d,G,w,s]),Se=t.useMemo(()=>({position:"relative",cursor:u.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[u.disabled]),de=t.useMemo(()=>({position:"absolute",inset:0,width:B.willPushPWMBadge?`calc(100% + ${B.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:B.willPushPWMBadge?`inset(0 ${B.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:M,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[B.PWM_BADGE_SPACE_WIDTH,B.willPushPWMBadge,M]),Ee=t.useMemo(()=>t.createElement("input",Ne(Ae({autoComplete:u.autoComplete||"one-time-code"},u),{"data-input-otp":!0,"data-input-otp-placeholder-shown":s.length===0||void 0,"data-input-otp-mss":j,"data-input-otp-mse":W,inputMode:F,pattern:w==null?void 0:w.source,"aria-placeholder":D,style:de,maxLength:d,value:s,ref:c,onPaste:e=>{var r;ce(e),(r=u.onPaste)==null||r.call(u,e)},onChange:ue,onMouseOver:e=>{var r;ie(!0),(r=u.onMouseOver)==null||r.call(u,e)},onMouseLeave:e=>{var r;ie(!1),(r=u.onMouseLeave)==null||r.call(u,e)},onFocus:e=>{var r;se(),(r=u.onFocus)==null||r.call(u,e)},onBlur:e=>{var r;Y(!1),(r=u.onBlur)==null||r.call(u,e)}})),[ue,se,ce,F,de,d,W,j,u,w==null?void 0:w.source,s]),ee=t.useMemo(()=>({slots:Array.from({length:d}).map((e,r)=>{var p;let v=$&&j!==null&&W!==null&&(j===W&&r===j||r>=j&&r<W),h=s[r]!==void 0?s[r]:null,l=s[0]!==void 0?null:(p=D==null?void 0:D[r])!=null?p:null;return{char:h,placeholderChar:l,isActive:v,hasFakeCaret:v&&h===null}}),isFocused:$,isHovering:!u.disabled&&le}),[$,le,d,W,j,u.disabled,s]),Pe=t.useMemo(()=>x?x(ee):t.createElement(be.Provider,{value:ee},N),[N,ee,x]);return t.createElement(t.Fragment,null,g!==null&&t.createElement("noscript",null,t.createElement("style",null,g)),t.createElement("div",{ref:U,"data-input-otp-container":!0,style:Se,className:E},Pe,t.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Ee)))});we.displayName="Input";function V(n,a){try{n.insertRule(a)}catch{console.error("input-otp could not insert CSS rule:",a)}}var ze=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;function qe({className:n,containerClassName:a,...o}){return _.jsx(we,{"data-slot":"input-otp",containerClassName:K("flex items-center gap-2 has-disabled:opacity-50",a),className:K("disabled:cursor-not-allowed",n),...o})}function Ve({className:n,...a}){return _.jsx("div",{"data-slot":"input-otp-group",className:K("flex items-center",n),...a})}function Ze({index:n,className:a,...o}){const i=t.useContext(be),{char:y,hasFakeCaret:d,isActive:M}=(i==null?void 0:i.slots[n])??{};return _.jsxs("div",{"data-slot":"input-otp-slot","data-active":M,className:K("data-[active=true]:border-ring data-[active=true]:ring-ring/50 data-[active=true]:aria-invalid:ring-destructive/20 dark:data-[active=true]:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[active=true]:aria-invalid:border-destructive dark:bg-input/30 border-input relative flex h-9 w-9 items-center justify-center border-y border-r text-sm shadow-xs transition-all outline-none first:rounded-l-md first:border-l last:rounded-r-md data-[active=true]:z-10 data-[active=true]:ring-[3px]",a),...o,children:[y,d&&_.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:_.jsx("div",{className:"animate-caret-blink bg-foreground h-4 w-px duration-1000"})})]})}function Je({...n}){return _.jsx("div",{"data-slot":"input-otp-separator",role:"separator",...n,children:_.jsx(Oe,{})})}qe.__docgenInfo={description:"",methods:[],displayName:"InputOTP",props:{containerClassName:{required:!1,tsType:{name:"string"},description:""}}};Ve.__docgenInfo={description:"",methods:[],displayName:"InputOTPGroup"};Ze.__docgenInfo={description:"",methods:[],displayName:"InputOTPSlot",props:{index:{required:!0,tsType:{name:"number"},description:""}}};Je.__docgenInfo={description:"",methods:[],displayName:"InputOTPSeparator"};export{qe as I,Ve as a,Ze as b,Je as c};
