import{j as p}from"./jsx-runtime-Cf8x2fCZ.js";import{r as l}from"./index-tvICUrOf.js";import{c as F}from"./index-C3cpMgHl.js";import{u as M}from"./index-w-R8y4gP.js";import{u as E}from"./index-DTQC5rKR.js";import{P as y}from"./index-nFMdVv6h.js";import{r as P}from"./index-yBjzXJbu.js";import{c as L}from"./utils-C3T1saKV.js";var A={exports:{}},x={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I;function $(){if(I)return x;I=1;var e=P();function t(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var s=typeof Object.is=="function"?Object.is:t,n=e.useState,u=e.useEffect,a=e.useLayoutEffect,f=e.useDebugValue;function i(r,o){var v=o(),g=n({inst:{value:v,getSnapshot:o}}),d=g[0].inst,h=g[1];return a(function(){d.value=v,d.getSnapshot=o,c(d)&&h({inst:d})},[r,v,o]),u(function(){return c(d)&&h({inst:d}),r(function(){c(d)&&h({inst:d})})},[r]),f(v),v}function c(r){var o=r.getSnapshot;r=r.value;try{var v=o();return!s(r,v)}catch{return!0}}function m(r,o){return o()}var S=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:i;return x.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:S,x}var w;function z(){return w||(w=1,A.exports=$()),A.exports}var T=z();function U(){return T.useSyncExternalStore(V,()=>!0,()=>!1)}function V(){return()=>{}}var _="Avatar",[D,oe]=F(_),[G,R]=D(_),j=l.forwardRef((e,t)=>{const{__scopeAvatar:s,...n}=e,[u,a]=l.useState("idle");return p.jsx(G,{scope:s,imageLoadingStatus:u,onImageLoadingStatusChange:a,children:p.jsx(y.span,{...n,ref:t})})});j.displayName=_;var N="AvatarImage",C=l.forwardRef((e,t)=>{const{__scopeAvatar:s,src:n,onLoadingStatusChange:u=()=>{},...a}=e,f=R(N,s),i=H(n,a),c=M(m=>{u(m),f.onImageLoadingStatusChange(m)});return E(()=>{i!=="idle"&&c(i)},[i,c]),i==="loaded"?p.jsx(y.img,{...a,ref:t,src:n}):null});C.displayName=N;var k="AvatarFallback",q=l.forwardRef((e,t)=>{const{__scopeAvatar:s,delayMs:n,...u}=e,a=R(k,s),[f,i]=l.useState(n===void 0);return l.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>i(!0),n);return()=>window.clearTimeout(c)}},[n]),f&&a.imageLoadingStatus!=="loaded"?p.jsx(y.span,{...u,ref:t}):null});q.displayName=k;function b(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function H(e,{referrerPolicy:t,crossOrigin:s}){const n=U(),u=l.useRef(null),a=n?(u.current||(u.current=new window.Image),u.current):null,[f,i]=l.useState(()=>b(a,e));return E(()=>{i(b(a,e))},[a,e]),E(()=>{const c=r=>()=>{i(r)};if(!a)return;const m=c("loaded"),S=c("error");return a.addEventListener("load",m),a.addEventListener("error",S),t&&(a.referrerPolicy=t),typeof s=="string"&&(a.crossOrigin=s),()=>{a.removeEventListener("load",m),a.removeEventListener("error",S)}},[a,s,t]),f}var B=j,K=C,O=q;function W({className:e,...t}){return p.jsx(B,{"data-slot":"avatar",className:L("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function J({className:e,...t}){return p.jsx(K,{"data-slot":"avatar-image",className:L("aspect-square size-full",e),...t})}function Q({className:e,...t}){return p.jsx(O,{"data-slot":"avatar-fallback",className:L("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}W.__docgenInfo={description:"",methods:[],displayName:"Avatar"};J.__docgenInfo={description:"",methods:[],displayName:"AvatarImage"};Q.__docgenInfo={description:"",methods:[],displayName:"AvatarFallback"};export{W as A,J as a,Q as b};
